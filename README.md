# 3기_도서관대출서비스_김수현

## 프로젝트 소개 
도서관 대출 서비스는 레이서 도서관에 있는 책을 온라인으로 관리할 수 있는 웹 서비스입니다. <br>
책의 상세 정보를 확인할 수 있는 페이지와 대여/반납 기능을 통해 도서 관리를 할 수 있는 웹 서비스를 제작합니다.

## 주요 사용 기술
- **Flask**
- SQLAlchemy + Migrate
- Falsk-WTF
- MySQL
- HTML + Flask Jinja2 + Bootstrap
- Azure VM

## 데이터베이스 구조
![image](https://user-images.githubusercontent.com/70987343/143680459-3595f692-c3a2-4bcf-995f-703518a6ee60.png)


## 프로젝트 구조
```
Flask폴더
├── models/
│     ├── models.py  : 모델 정의   
├── static : css, js, images 파일 관리     
├── templates/
│      ├── 404.html      
│      ├── _navbar.html  
│      ├── base.html  
│      ├── book_detail.html  
│      ├── login.html  
│      ├── main.html  
│      ├── mylibrary.html 
│      ├── register.html  
│      ├── return_page.html  
│      ├── search.html            
│      ├── update_password.html                                                      
├── views/     
│      ├── auth.py
│      ├── book_detail.py      
│      ├── main_view.py      
│      ├── mylibrary.py
│      ├── return_page.py                       
│
├── app.py : create_app 함수 정의                                           
├── config.py
├── csvtodb.py
├── forms.db
```
## 전체 프로젝트 일정

## 기능 상세 소개
### 로그인
    - 유저로부터 아이디(이메일)와 비밀번호 정보를 입력받아 로그인 합니다.
    - 아이디와 비밀번호는 필수 입력 사항 입니다.
    - 로그인한 유저에 대해 session으로 관리해야 합니다.
    - 비밀번호는 아래의 개인정보 보호조치 기준에 맞추어 최소 8자리 이상의 길이로 입력 받아야 합니다.
    - 아이디는 이메일 형식으로만 입력 받아야 합니다.
### 회원가입
    - 유저로부터 아이디(이메일), 비밀번호, 이름 정보를 입력받아 회원가입합니다.
    - 비밀번호와 비밀번호 확인의 값이 일치해야 합니다.
    - 아이디는 이메일 형식으로만 정보를 입력 받아야 합니다.
    - 이름은 한글, 영문으로만 입력 받아야 합니다.
### 로그아웃
    - 현재 로그인한 유저에 대해 로그아웃 합니다.
    - 로그아웃한 유저를 현재 session에서 제거해야 합니다.


### 메인 페이지
    - 현재 DB 상에 존재하는 모든 책 정보를 가져옵니다.
    - 현재 DB 상에 존재하는 남은 책의 수를 표기합니다.
    - 책 이름을 클릭 시 책 소개 페이지로 이동합니다.
    - 책의 평점은 현재 DB 상에 담겨있는 모든 평점의 평균입니다. 숫자 한자리수로 반올림하여 표기합니다.
    - 페이지네이션 기능을 추가합니다. 한 페이지 당 8권의 책만을 표기합니다.
### 검색
    - 입력한 keyword를 포함한 모든 책 정보를 가져옵니다.
    - 페이지네이션 기능을 추가합니다. 한 페이지 당 8권의 책만을 표기합니다.
### 대여하기
    - 메인 페이지의 대여하기 버튼을 클릭하면 모달이 실행합니다.
    - 모달에서 대여하기 버튼을 누르면 대여가 실행됩니다.
    - 현재 DB 상에 책이 존재 하지 않는 경우, 대여되지 않습니다.
    - 현재 DB 상에 책에 존재하는 경우, 책을 대여하고 책의 권수를 -1 합니다.
    - 현재 DB 상에 책이 존재하지 않는 경우, 유저에게 대여가 불가능하다는 메세지를 반환합니다.
    - 유저가 이미 이 책을 대여했을 경우, 이에 대한 안내 메세지를 반환합니다.
### 반납하기
    - 로그인한 유저가 대여한 책을 모두 보여줍니다.
    - 반납하기 버튼을 통해 책을 반납합니다. 책을 반납한 후 DB 상에 책의 권수를 +1 합니다.
### 책소개
    - 메인 페이지의 책 이름을 클릭하여 접근합니다.
    - 책에 대한 소개를 출력합니다.
    - 리뷰을 작성, 책에 대한 별점를 입력합니다.
    - 리뷰 내용과 별점은 모두 필수 입력 사항입니다.
    - 자신이 작성한 리뷰를 삭제할 수 있습니다.
### 나의 도서관
    - 내 정보를 보여줍니다. (이름, 이메일, 대여 권수, 현재 대여중인 권수)
    - 비밀번호 변경 버튼을 누르면 비밀번호 변경 페이지가 실행됩니다.
    - 현재 비밀번호와 새로운 비밀번호, 새로운 비밀번호 체크를 통해 비밀번호를 변경할 수 있습니다.
    - 대여 기록을 보여줍니다.
    - 로그인한 유저가 대여 후 반납 했던 책에 대한 모든 사항을 출력합니다.
    - 대여날짜, 반납날짜(대여중이면 대여중)를 보여줍니다.
    - 내가 준 별점을 보여줍니다.
    - 나의 리뷰를 보여줍니다. 내가 쓴 리뷰를 모두 보여줍니다.
    - 회원 탈퇴 버튼을 누르면 회원 탈퇴가 실행됩니다.
    - 대여중인 책이 존재한다면, 탈퇴가 불가능합니다.
